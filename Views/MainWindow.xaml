<Window x:Class="ContractApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:ContractApp.Views.Pages"
        Title="Main Window" 
        Height="600" 
        Width="800">


    <!-- Основной контент -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Навигационное меню -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Grid.ColumnSpan="2">
            <!-- Меню "Договоры" -->
            <Grid>
                <Button x:Name="ContractsBtn" 
                        Style="{StaticResource MainMenuButton}"
                        Tag="Договоры"
                        Click="ToggleContractsMenu">
                    <materialDesign:PackIcon Kind="ChevronDown"/>
                </Button>

                <!-- Подменю договоров -->
                <Popup x:Name="ContractsPopup"
                       Style="{StaticResource SubMenuStyle}"
                       PlacementTarget="{Binding ElementName=ContractsMenu}">
                    <Border Background="White"
                            CornerRadius="4"
                            Effect="{StaticResource MaterialDesignShadowDepth2}"
                            Padding="2">
                        <StackPanel>
                            <Button Style="{StaticResource SubMenuItem}"
                                    Click="ShowContractsList"
                                    Tag="ContractsList">
                                <StackPanel Orientation="Horizontal" >
                                    <materialDesign:PackIcon Kind="FormatListBulleted" 
                                                           Width="20"
                                                           Margin="0 0 10 0"
                                                           VerticalAlignment="Center"/>
                                    <TextBlock Text="Список договоров"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource SubMenuItem}"
                                    Click="ShowContractSettings"
                                    Tag="ContractSettings">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Cog" 
                                                           Width="20"
                                                           Margin="0 0 10 0"/>
                                    <TextBlock Text="Настройка договоров"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Border>
                </Popup>
            </Grid>

            <!-- Меню "Справочники" -->
            <Grid Margin="5 0">
                <Button Style="{StaticResource MainMenuButton}"
                            x:Name="DirectoriesBtn"
                            Tag="Справочники"
                            Click="ToggleDirectoriesMenu">
                    <materialDesign:PackIcon Kind="ChevronDown"/>
                </Button>

                <Popup x:Name="DirectoriesPopup"
                           Style="{StaticResource SubMenuStyle}"
                           PlacementTarget="{Binding ElementName=DirectoriesMenu}">
                    <Border Background="White"
                                CornerRadius="4"
                                Effect="{StaticResource MaterialDesignShadowDepth2}">
                        <StackPanel Margin="2">
                            <Button Style="{StaticResource SubMenuItem}"
                                        Click="ShowDirections"
                                        Tag="DirectionsPage">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Compass" Margin="0 0 8 0"/>
                                    <TextBlock Text="Направления"/>
                                </StackPanel>
                            </Button>
                            <Button Style="{StaticResource SubMenuItem}"
                                        Click="ShowGroups"
                                        Tag="GroupsPage">
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="AccountGroup" Margin="0 0 8 0"/>
                                    <TextBlock Text="Управление группами"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Border>
                </Popup>
            </Grid>

            <!-- Кнопка "Контингент" -->
            <Button Style="{StaticResource MainMenuButton}"
                        x:Name="ContingentBtn"
                        Tag="Контингент"
                        Click="ShowContingent"
                        Margin="5 0" Width="125"/>
        </StackPanel>

        <!-- Область контента -->
        <Frame x:Name="MainFrame"
               Grid.Row="1"
               NavigationUIVisibility="Hidden"/>
    </Grid>
</Window>